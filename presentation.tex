\documentclass[aspectratio=169,t]{beamer}
\usefonttheme[onlymath]{serif}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{color}
\usepackage{graphicx}
\usepackage{fancybox}
\usepackage[vlined]{algorithm2e}
\usepackage{standalone}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows.meta}
\usepackage{anyfontsize}
%\usepackage{enumitem}
\usepackage[acronym]{glossaries}
\makeglossaries

\usepackage{beamerthemesplit}
\usetheme[compress]{Heidelberg}
\definecolor{unirot}{rgb}{0.5976525,0,0}
\usecolortheme[named=unirot]{structure}

\title{GPGPU Accelerated Iterative Filtering of Scalar Fields on Discrete Manifolds}
\author{Bryan Wolfford}

\institute[Uni HD]{
	Universit√§t Heidelberg\\
	Interdisciplinary Center for Scientific Computing\\
	Forensic Computational Geometry Laboratory\\
	\color{unirot}{wolfford@stud.uni-heidelberg.de}
}
\date{\today}

%\AtBeginSection[]{
%	\begin{frame}<beamer>
%		\frametitle{Outline}
		% show TOC and highlight current section
%		\tableofcontents[currentsection]
%	\end{frame}
%}

%\AtBeginSubsection[]{
%	\begin{frame}<beamer>
%		\frametitle{Outline}
		% show TOC and highlight current section
%		\tableofcontents[currentsection,currentsubsection]
%	\end{frame}
%}

\begin{document}
\input{myCommands.tex}
\input{chapters/Z2-Glossary.tex}
\setlength{\intextsep}{0pt}
\def\hilite<#1>{\temporal<#1>{\color{black}}{\color{unirot}}{\color{gray}}}

%------------------------------------------------
\frame[plain]{
	\titlepage
}
%\iffalse
%------------------------------------------------
%TODO:highlight my contribution
\frame{\frametitle{Outline}
	\tableofcontents
}




%================================================
%================================================
\section{Motivation \& Introduction}

%------------------------------------------------
\frame{\frametitle{Increasing demand for high-definition, 3D~surface scans}
	\begin{columns}[T]
		\begin{column}{.45\textwidth}
			\begin{itemize}
				\item Modernization of archeology
				\item Industrial quality scanning
				\item Danger to physical archives
				\item Lower cost 3D-scanners are now more~accurate
			\end{itemize}
		\end{column}
		\begin{column}{.55\textwidth}
			\centering
			\includegraphics[width=1.0\linewidth]{figures/visualizeFunctionValues2.png}
			3D Surface Scan as a discrete 2D manifold \break colored by function value
		\end{column}
	\end{columns}
}

%------------------------------------------------
\frame{\frametitle{Raw \tdd{} is not suitable for analysis}
	\begin{columns}[T]
		\begin{column}{.45\textwidth}
			\begin{itemize}
				\item Non-manifold meshes, edges, and singular points
			\end{itemize}
			\begin{columns}[T]
				\begin{column}{.55\textwidth}
					\includegraphics[width=\textwidth]{figures/badMesh3.png}
				\end{column}
				\begin{column}{.45\textwidth}
					\includegraphics[width=\textwidth]{figures/badMesh1.png}
					\includegraphics[width=\textwidth]{figures/badMesh2.png}
				\end{column}
			\end{columns}
		\end{column}
		\begin{column}{.475\textwidth}
			%\vspace*{4mm}
			\begin{itemize}
				\item Errors propagate in filter responses
				\item Jagged borders of segmented areas
			\end{itemize}
			\vspace*{4mm}
			\begin{columns}[T]
				\begin{column}{.1\textwidth}
				\end{column}
				\begin{column}{.45\textwidth}
					\centering
					\includegraphics[width=\textwidth]{figures/beforeFilter.png}
					Before smoothing
				\end{column}
				\begin{column}{.45\textwidth}
					\centering
					\includegraphics[width=\textwidth]{figures/afterFilter.png}
					After smoothing
				\end{column}
			\end{columns}
		\end{column}
	\end{columns}
}


%------------------------------------------------
\frame{\frametitle{Smoothing jagged borders of segmented areas}
	\vspace*{-4mm}
	\begin{columns}[T]
		\begin{column}{.5\textwidth}
			\centering
			\includegraphics[width=.9\textwidth]{figures/beforeFilter.png}
			Before smoothing
		\end{column}
		\begin{column}{.5\textwidth}
			\centering
			\includegraphics[width=.9\textwidth]{figures/afterFilter.png}
			After smoothing
		\end{column}
	\end{columns}
}

%------------------------------------------------
\frame{\frametitle{One-Ring Neighborhoods in Regular and Irregular Meshes}
	\includegraphics[width=1.0\linewidth]{figures/neighborhoods_presentation.png}

	\bigskip
	\begin{columns}[c]
		\begin{column}{.27\textwidth}
			a regular square mesh, as in pixels of a digital image
		\end{column}
		\begin{column}{.27\textwidth}
			a regular triangle mesh, as in a hexagonal tessellation
		\end{column}
		\begin{column}{.3\textwidth}
			an irregular triangle mesh, typical of acquired \tdd{}
		\end{column}
	\end{columns}
}

%------------------------------------------------
\frame{\frametitle{Anatomy of a Mesh}
	\begin{columns}[T]
		\begin{column}{.2\textwidth}
			{\fontsize{10}{14}\selectfont
				\begin{tabular}{ l l }
					$\bM$ & the triangle mesh; a 2D discrete manifold \\
					$\bT$ & the set of triangle faces \{$\bt_1$, \ldots, $\bt_m$\} \\
					$\bP$ & the set of points \{$\bp_1$, \ldots, $\bp_n$\} \\
					$\bF$ & the set of function values \{$f_1$, \ldots, $f_n$\} \\
					~ & ~ \\
					$\bN$ & the set of one-ring neighborhoods \\
					$\bN_2$ & the neighborhood of $\bp_2$
				\end{tabular}
			}
		\end{column}
		\begin{column}{.8\textwidth}
			\vspace*{2mm}
			\includegraphics[width=\textwidth]{figures/triangularFaces_presentation.png}
		\end{column}
	\end{columns}
}




%================================================
%================================================
\section{Fast One-Ring Smoothing}


%================================================
\subsection{Mathematical Foundation}

%------------------------------------------------
\frame{\frametitle{A One-Ring Neighborhood and its Geodesic Disc}
	\centering
	\includegraphics[width=0.8\linewidth]{figures/geodesicDisc_presentation.png}
	\begin{align*}
		{\color{MyTeal}\elm(\bp_0)}\; &{\color{black}:= \min_{\forall \bp_i \in \bN_v}|\bp_i - \bp_0|} \\
		{\color{MyTeal}\gelm}\; &{\color{black}:= \min\left \{{\color{MyTeal}\elm(\bp_0)} \;|\; \bp_0 \in \bM\,\right \}}
	\end{align*}
}

%------------------------------------------------
\frame{\frametitle{An Enhanced View of a Circle Sector}
	\vspace{-4mm}
	\begin{columns}[T]
		\begin{column}{.5\textwidth}
			\includegraphics[width=\linewidth]{figures/anglesAndCenterOfGravity_presentation.png}
		\end{column}
		\begin{column}[t]{.5\textwidth}
			\begin{align*}
				{\color{black}\alpha}\; &{\color{black}:= cos^{-1}\left (\frac{\ell_{0,1}^2 + \ell_{0,2}^2 - \ell_{1,2}^2}{2\cdot\ell_{0,1}\cdot\ell_{0,2}}\right )} \\
				{\color{MySand}\beta}\; &{\color{MySand}:= \Big(\frac{\pi}{2} - \frac{{\color{black}\alpha}}{2}\Big) = \frac{(\pi - {\color{black}\alpha})}{2}} \\
				{\color{MyTeal}A}\; &{\color{MyTeal}:= \frac{\left (\,\gelm\,\right )^2{\color{black}\alpha}}{2}} \\
				%{\color{MySand}\tilde{\ell}_1}\; &{\color{MySand}:= \frac{{\color{MyTeal}\gelm}}{\lVert\bp_1 - \bp_0\lVert_2 \;\sin\left (\beta\right )}} \\
				{\color{MyCoral}\check{\ell}}\; &{\color{MyCoral}:= \frac{4\:{\color{MyTeal}\gelm}\:\sin(\frac{{\color{black}\alpha}}{2})}{3\,{\color{black}\alpha}}}
			\end{align*}
		\end{column}
	\end{columns}
}

%------------------------------------------------
\frame{\frametitle{Interpolation of function values to the center of gravity}
	\only<1>{
		\vspace*{-4mm}
		\begin{flushright}Load function values $f_0$, $f_1$, and $f_2$\end{flushright}
		\vspace*{-6mm}
		\centering
		\includegraphics[width=0.95\linewidth]{figures/interpolatedFunctionValues_presentation1.png}
	}\only<2>{
		\vspace*{-4mm}
		\begin{flushright}Extrapolate $f_1$ and $f_2$ to circumscribing triangle\end{flushright}
		\vspace*{-6mm}
		\centering
		\includegraphics[width=0.95\linewidth]{figures/interpolatedFunctionValues_presentation2.png}
	}\only<3>{
		\vspace*{-4mm}
		\begin{flushright}Interpolate $f_1$ and $f_2$ to bisecting line\end{flushright}
		\vspace*{-6mm}
		\centering
		\includegraphics[width=0.95\linewidth]{figures/interpolatedFunctionValues_presentation3.png}
	}\only<4>{
		\vspace*{-4mm}
		\begin{flushright}Interpolate result and $f_0$ to center of gravity\end{flushright}
		\vspace*{-6mm}
		\centering
		\includegraphics[width=0.95\linewidth]{figures/interpolatedFunctionValues_presentation4.png}
	}
}

%------------------------------------------------
%TODO: Fix bottom marigin
\frame{\frametitle{Filter Result - The weighted mean function value at $\bp_0$}
	\par \vspace*{-4mm}
	\begin{equation*}
		f'_0 := \frac{\sum A_i\check{f}_i}{\sum A_i} \quad \forall i \in \{1,\,\ldots,\,6\}
	\end{equation*}
	\vspace*{0mm}
	\centering
	\includegraphics[width=1.0\linewidth]{figures/funcValVolumes_presentation.png}
}


%================================================
\subsection{Serial Algorithm}

%------------------------------------------------
\frame{\frametitle{Serial Algorithm for Building Neighborhoods}
	\begin{columns}[t]
		\begin{column}{.6\textwidth}
			\includegraphics[width=1.0\linewidth]{figures/triangularFaces.png}
		\end{column}
		\hspace*{-1.5cm}
		\begin{column}{.6\textwidth}
			\includestandalone[width=1.0\linewidth]{figures/tikz/unionsOfSimpleBuildNeighborhoods}
		\end{column}
	\end{columns}

	\begin{columns}[t]
		\begin{column}{.5\textwidth}
			\begin{algorithm}[H]
				\DontPrintSemicolon
				\SetKwFor{For}{for}{:}{}
				\begin{block}{}
				\nl		\For{$\bt \in \bT$}{
				\nl			\ProgSty{union($\bN$, $\bp_a$, $\bp_b$, $\bp_c$)}\;
				\nl			\ProgSty{union($\bN$, $\bp_b$, $\bp_a$, $\bp_c$)}\;
				\nl			\ProgSty{union($\bN$, $\bp_c$, $\bp_a$, $\bp_b$)}\;
						}
				\end{block}
			\end{algorithm}
		\end{column}
		\begin{column}{.5\textwidth}
			\begin{algorithm}[H]
				\DontPrintSemicolon
				\SetKwFor{For}{for}{:}{}
				\SetKwProg{Func}{Function}{}{}
				\begin{block}{}
				\nl	\Func{union($\bN$, $a$, $b$, $c$)}{
				\nl		$\bN_a \leftarrow \bN_a \cup \{b,\,c\}$\;
					}
				\end{block}
			\end{algorithm}
		\end{column}
	\end{columns}
}

%------------------------------------------------
%TODO: Mention tau can be derived from feature size as in Mara17
\frame{\frametitle{Serial Algorithm for Calculating Edge Lengths}
\begin{algorithm}[H]
	\SetAlgoSkip{}
	\DontPrintSemicolon
	\SetCommentSty{small}
	\SetKwFor{For}{for}{:}{}
	\SetKwProg{Func}{Function}{}{}
	\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}

	\only<1>{
	\begin{block}{}%Part (1 of 1)}
		\Input{the set of all points $\bP$, \\
			the set of discovered neighborhoods $\bN$}
		\Output{the set of pre-calculated edge lengths $\bE$, \\
			the minimum edge length of the mesh $\gelm$}

		\bigskip
	\nl	\Func{serialCalculateEdgeLengths($\bP$, $\bN$)}{
	\nl		\For{$\bp_v \in \bP$}{
	\nl			\For{$\bp_i \in \bN_v$}{
					\linespread{1.5}\selectfont
	\nl				$\bE_{\sv{i}} \leftarrow \lVert\bp_i - \bp_v\rVert_2$\tcc*[r]{\emph{Expensive!}}
	\nl				$\gelm \leftarrow \min\left \{\gelm,\,\bE_{\sv{i}}\right \}$\;
				}
			}
		}
	\end{block}
	}
\end{algorithm}
}

%------------------------------------------------
%TODO: be ready to translate symbols in part 3!
\frame{\frametitle{Serial Algorithm for Convolving the Filter}
	\vspace*{-8mm}
	\begin{columns}
		\begin{column}[t]{.35\textwidth}
			\begin{block}{}
				{\fontsize{4.2}{4.2}\selectfont
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\SetKwProg{Cont}{}{}{}
						\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}
						\Input{the set of all points $\bP$, \\
							the set of discovered neighborhoods $\bN$, \\
							the set of pre-calculated edge lengths $\bE$, \\
							the minimum edge length of the mesh $\gelm$, \\
							the set of function values $\bF$, \\
							the user-defined number of convolutions $\tau$}
						\Output{the set of one-ring \wmfv{s} $\bF'$}

						\medskip
						\linespread{1.2}\selectfont
					\nl	\Func{serialConvolveFilter($\bP$, $\bN$, $\bE$, $\gelm$, $\bF$, $\tau$)}{
					\nl		\For{$t\leftarrow 1\;\KwTo\;\tau$}{
					\nl			\For{$\bp_v \in \bP$}{
					\nl				\For{$\bp_i \in \bN_v$}{
										\linespread{1.5}\selectfont
					\nl					$\kern-0.5pt\alpha \leftarrow cos^{-1} \kern-6pt\left (\frac{\bE_c^2\,+\,\bE_b^2\,-\,\bE_a^2}{2\,\cdot\,\bE_c\,\cdot\,\bE_b}\right )$\;
										\linespread{1.2}\selectfont
					\nl					$\kern0.00pt\beta \leftarrow (\pi - \alpha)\mathbin{/}2$\;
					\nl					$\kern-1.5ptA \leftarrow \Big(\gelm\,\Big)^2\kern-4pt\cdot\alpha\mathbin{/}2$\;
					\nl					$\kern1.00pt\check{\ell} \leftarrow \big(4\cdot\gelm\cdot\sin(\alpha\mathbin{/}2)\big)\mathbin{/}3\,\alpha$\;
					\nl					$\kern1.00pt\zeta \leftarrow \gelm\mathbin{/}\sin(\beta)$\;
					\nl					\For{$j \in {1,2}$}{\label{algSCFjloop}
					\nl						$\tilde{\ell}_j \leftarrow \zeta\mathbin{/}\bE_j$\;
					\nl						$f'_j \leftarrow f_0\cdot(1 - \tilde{\ell}_j) + f_j\cdot\tilde{\ell}_j$\;
										}
					\nl					$\check{f} \leftarrow f_0\cdot(1 - \check{\ell}) + \big((f'_1 + f'_2)\cdot\check{\ell}\big)\mathbin{/}2$\;
					\nl					$\kern-2.0pt\tilde{f}_v \leftarrow \tilde{f}_v + A\cdot\check{f}$\;
					\nl					$\kern-4.0pt\tilde{A}_v \leftarrow \tilde{A}_v + A$\;
									}
					\nl				$f'_v \leftarrow \tilde{f}_v\mathbin{/}\tilde{A}_v$\;
								}
					\nl		$\bF' \leftarrow \left \{f'_1,\ldots,\,f'_{|\bP|}\right \}$\;
					\nl 	$\bF \leftarrow \bF'$\;
							}
						}
					\end{algorithm}
				}
			\end{block}
		\end{column}
		\begin{column}[t]{.65\textwidth}
			\only<1>{
				\begin{block}{Part (1 of 3)}
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\SetKwProg{Cont}{}{}{}
						\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}
						\Input{the set of all points $\bP$, \\
							the set of discovered neighborhoods $\bN$, \\
							the set of pre-calculated edge lengths $\bE$, \\
							the minimum edge length of the mesh $\gelm$, \\
							the set of function values $\bF$, \\
							the user-defined number of convolutions $\tau$}

						\bigskip
						\Output{the set of one-ring \wmfv{s} $\bF'$}
					\end{algorithm}
				\end{block}
			}\only<2>{
				\begin{block}{Part (2 of 3)}
					\begin{algorithm}[H]
						\SetAlgoLined
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\SetKwProg{Cont}{}{}{}
						\setcounter{AlgoLine}{0}
					\nl	\Func{serialConvolveFilter($\bP$, $\bN$, $\bE$, $\gelm$, $\bF$, $\tau$)}{
					\nl		\For{$t\leftarrow 1\;\KwTo\;\tau$}{
					\nl			\For{$\bp_v \in \bP$}{
					\nl				\For{$\bp_i \in \bN_v$}{
										\vspace*{1.5\baselineskip}
										\ldots
										\vspace*{1.5\baselineskip}
									}
						\setcounter{AlgoLine}{15}
					\nl				$f'_v \leftarrow \tilde{f}_v\mathbin{/}\tilde{A}_v$\;
								}
					\nl		$\bF' \leftarrow \left \{f'_1,\ldots,\,f'_{|\bP|}\right \}$\;
					\nl 	$\bF \leftarrow \bF'$\;
							}
						}
					\end{algorithm}
				\end{block}
			}\only<3>{
				\begin{block}{Part (3 of 3)}
					{\fontsize{9}{9.5}\selectfont
					\begin{algorithm}[H]
						\SetAlgoLined
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\SetKwProg{Cont}{}{}{}
						\setcounter{AlgoLine}{7}
						\vspace*{-1\baselineskip}
						\Cont{}{
							\vspace*{-1\baselineskip}
							\Cont{}{
								\vspace*{-1\baselineskip}
								\Cont{}{
									\vspace*{-1\baselineskip}
									\Cont{}{
										\linespread{1.5}\selectfont
					\nl					$\kern-0.5pt\alpha \leftarrow cos^{-1} \kern-6pt\left (\frac{\bE_c^2\,+\,\bE_b^2\,-\,\bE_a^2}{2\,\cdot\,\bE_c\,\cdot\,\bE_b}\right )$\;
										\linespread{1.2}\selectfont
					\nl					$\kern0.00pt\beta \leftarrow (\pi - \alpha)\mathbin{/}2$\;
					\nl					$\kern-1.5ptA \leftarrow \Big(\gelm\,\Big)^2\kern-4pt\cdot\alpha\mathbin{/}2$\;
					\nl					$\kern1.00pt\check{\ell} \leftarrow \big(4\cdot\gelm\cdot\sin(\alpha\mathbin{/}2)\big)\mathbin{/}3\,\alpha$\;
					\nl					$\kern1.00pt\zeta \leftarrow \gelm\mathbin{/}\sin(\beta)$\;
					\nl					\For{$j \in {1,2}$}{\label{algSCFjloop}
					\nl						$\tilde{\ell}_j \leftarrow \zeta\mathbin{/}\bE_j$\;
					\nl						$f'_j \leftarrow f_0\cdot(1 - \tilde{\ell}_j) + f_j\cdot\tilde{\ell}_j$\;
										}
					\nl					$\check{f} \leftarrow f_0\cdot(1 - \check{\ell}) + \big((f'_1 + f'_2)\cdot\check{\ell}\big)\mathbin{/}2$\;
					\nl					$\kern-2.0pt\tilde{f}_v \leftarrow \tilde{f}_v + A\cdot\check{f}$\;
					\nl					$\kern-4.0pt\tilde{A}_v \leftarrow \tilde{A}_v + A$\;
									}
								}
							}
						}
					\end{algorithm}
					}
				\end{block}
			}
		\end{column}
	\end{columns}
	\begin{tikzpicture}[overlay, remember picture]
		\draw<1>[unirot,ultra thick,rounded corners] (-8mm, 64mm) rectangle (46mm, 50mm);
		\draw<2>[unirot,ultra thick,rounded corners] (-8mm, 50mm) rectangle (46mm, 41mm);
		\draw<2>[unirot,ultra thick,rounded corners] (-8mm, 15mm) rectangle (46mm,  2mm);
		\draw<3>[unirot,ultra thick,rounded corners] (-8mm, 43mm) rectangle (46mm, 14mm);
	\end{tikzpicture}
}

%------------------------------------------------
\frame{\frametitle{Towards Acceleration}
	\centering
	{\Huge Unfortunately, this is very slow!}
	
	\medskip
	\scalebox{-1}[1]{\includegraphics[width=0.5\linewidth]{figures/DB_Museum_Nuernberg.jpg}}

	\medskip
	...thankfully, a modern solution exists.
}

%------------------------------------------------
\frame{\frametitle{SIMD Architecture}
	\vspace*{4mm}
	\includegraphics[width=1.0\linewidth]{figures/tikz/simdArchitecture.pdf}

	\bigskip
	\begin{flushright}
		i.e. GPUs, Supercomputers, Computer Pools %Name examples like the cray, and pool in this building
	\end{flushright}
}

%------------------------------------------------
\frame{\frametitle{CPU vs GPU Construction}
	\vspace*{8mm}
	\includegraphics[width=1.0\linewidth]{figures/cpuvgpu.png}
}

%------------------------------------------------
\frame{\frametitle{Amdahl's law and the Degree of Parallelism}
	\begin{columns}[T]
		\begin{column}{.48\textwidth}
			Degree of Parallelism: the maximum share of operations that can be executed in parallel

			\medskip
			\begin{block}{Amdahl's law}
				Given a constant problem size $\hat{n}_{fixed}$,
				\begin{equation*}
					\lim_{\rho \to \infty} \mathit{S}(\hat{n}_{fixed},\,\rho) = 1 / q
				\end{equation*}
			\end{block}

			\medskip
			\textbf{Conclusion}: one \emph{cannot} simply add more processors in order to gain appreciable speedup!
		\end{column}
		\begin{column}{.52\textwidth}
			\includegraphics[width=1.1\textwidth]{figures/amdahlsLaw.png}
		\end{column}
	\end{columns}
}


%================================================
\subsection{Data Dependencies}

%------------------------------------------------
\frame{\frametitle{Data Dependencies in Serial Algorithm Build Neighborhoods}
	\centering
	\includestandalone[width=0.725\textwidth]{figures/tikz/sabnDataDependencies}
}

%------------------------------------------------
\frame{\frametitle{Data Dependencies in Serial Algorithm Calculate Edge Lengths}
	\centering
	\includestandalone[width=0.875\textwidth]{figures/tikz/sacelDataDependencies}
}

%------------------------------------------------
\frame{\frametitle{Data Dependencies in Serial Algorithm Convolve Filter}
	\only<1>{
		\centering
		\includestandalone[width=0.4825\textwidth]{figures/tikz/sacfDataDependencies}
	}\only<2>{
		\begin{columns}
			\begin{column}{.25\textwidth}
				\hspace*{-30mm}
				\includestandalone[width=1.93\textwidth]{figures/tikz/sacfDataDependencies}
			\end{column}
			\begin{column}{.75\textwidth}
				\centering
				\includestandalone[width=0.6\textwidth]{figures/tikz/sacfDataDependencies_excerpt}
			\end{column}
		\end{columns}
	}
	\begin{tikzpicture}[overlay, remember picture]
		\draw<2>[black,ultra thick,rounded corners] (6mm, 70mm) rectangle (36mm, 19mm);
		\draw<2>[gray,dotted,ultra thick] (36mm, 70mm) -- (60mm, 71mm);
		\draw<2>[gray,dotted,ultra thick] (36mm, 19mm) -- (60mm, 10mm);
	\end{tikzpicture}
}


%================================================
\subsection{Parallel Algorithm}

%------------------------------------------------
\frame{\frametitle{Parallel Algorithm for Building Neighborhoods}
	\only<1>{
		\begin{block}{Part 1 of 3}
			\begin{algorithm}[H]
				\DontPrintSemicolon
				\SetKwFor{For}{for}{:}{}
				\SetKwProg{Func}{Function}{}{}
				\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}

				\Input{the number of available processors $\rho$, \\
					the set of all triangular faces $\bT$, \\
					the cardinality of the set of points $|\bP|$}
				\Output{the set of discovered neighborhoods $\bN$}

				\bigskip
			\nl	\Func{parallelBuildNeighborhoods($\rho$, $\bT$, $|\bP|$)}{
			\nl		$\sigma \leftarrow |\bT|\mathbin{/}\rho$\;
			\nl		$\fM \leftarrow \{\mu_1,\,\ldots,\,\mu_{|\bP|}\}$\;
			\nl		\For{$\Pi \leftarrow 1$ \KwTo $\rho\mathbin{/}4$}{
			\nl			\ProgSty{$\sim$build($\Pi$, $\sigma$, $\fM$, $\bT$)}\;
					}
			\nl		\ProgSty{synchronizeThreads()}\;
				}
			\end{algorithm}
		\end{block}
	}
	\only<2>{
		\begin{columns}
			\begin{column}{.49\textwidth}
				\begin{block}{Part 2 of 3}
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\setcounter{AlgoLine}{6}

					\nl	\Kernel{build($\Pi$, $\sigma$, $\fM$, $\bT$)}{
					\nl		$\check{\sigma} \leftarrow (\Pi-1)\,\sigma+1$\;
					\nl		$\hat{\sigma} \leftarrow \Pi\,\sigma$\;
					\nl		\For(\tcc*[f]{$\bt = \left \{\bp_a, \bp_b, \bp_c\right \}$}){$\bt \in \{\bt_{\check{\sigma}},\ldots,\,\bt_{\hat{\sigma}}\}$}{
					\nl			\ProgSty{$\sim$safeUnion($\fM$, $\bN$, $\bp_a$, $\bp_b$, $\bp_c$)}\;
					\nl			\ProgSty{$\sim$safeUnion($\fM$, $\bN$, $\bp_b$, $\bp_a$, $\bp_c$)}\;
					\nl			\ProgSty{$\sim$safeUnion($\fM$, $\bN$, $\bp_c$, $\bp_a$, $\bp_b$)}\;
							}
						}
					\end{algorithm}
				\end{block}
			\end{column}
			\begin{column}{.433\textwidth}
				\begin{block}{Part 3 of 3}
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\setcounter{AlgoLine}{12}

					\nl	\Kernel{safeUnion($\fM$, $\bN$, $a$, $b$, $c$)}{
					\nl		$\ProcSty{lock}(\mu_a)$\;
					\nl		$\bN_a \leftarrow \bN_a \cup \{b,\,c\}$\;
					\nl		$\ProcSty{unlock}(\mu_a)$\;
						}
					\end{algorithm}
				\end{block}
			\end{column}
		\end{columns}
	}
}

%------------------------------------------------
%Totally remove
\iffalse
\frame{\frametitle{Parallel Recursive Census Neighborhoods (Prefix Sum)}
	\vspace*{-8mm}
	\begin{columns}
		\begin{column}{.49\textwidth}
			\begin{block}{}
				{\fontsize{5.8}{5.8}\selectfont
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}

						\Input{the number of available processors $\rho$, \\
							the set of neighborhoods $\bN$}
						\Output{the count of all neighbors in all neighborhoods $\hat{n}$}

						\bigskip
					\nl	\Func{parallelRecursiveCensusNeighborhoods($\rho$, $\bN$)}{
					\nl		\eIf{$|\bN| \leq 2$}{
					\nl			$\hat{n} \leftarrow \sum_{i=1}^{|\bN|}\bN_i$\;
							}{%Else
					\nl			$\sigma \leftarrow |\bN|\mathbin{/}(2\,\rho)$\;
					\nl			\For{$\Pi \in \{1,\ldots,\rho\}$}{
					\nl				\ProgSty{$\sim$parallelSum($\Pi$, $\sigma$, $\bN$)}\;
								}
					\nl			\ProgSty{synchronizeThreads()}\;
					\nl			\ProgSty{parallelRecursiveCensusNeighborhoods($\rho$, $\widetilde{\bN}$)}\;
							}
						}

						\bigskip
					\nl	\Kernel{parallelSum($\Pi$, $\sigma$, $\bN$)}{
					\nl		$\check{\sigma} \leftarrow (\Pi-1)\,\sigma+1$\;
					\nl		$\hat{\sigma} \leftarrow 2\,\Pi\,\sigma$\;
					\nl		\For{$v \in \{\check{\sigma},\,\check{\sigma}\sps{}2,\,\check{\sigma}\sps{}4,\ldots,\,\hat{\sigma}\}$}{
					\nl			\eIf{$\bN$ is a family of sets}{
					\nl				$\widetilde{\bN_v} \leftarrow |\bN_v| + |\bN_{\sxpx{v}{1}}|$\;
								}{%else
					\nl				$\widetilde{\bN_v} \leftarrow \bN_v + \bN_{\sxpx{v}{1}}$\;
								}
							}
						}
					\end{algorithm}
				}
			\end{block}
		\end{column}
	\end{columns}
}
\fi
%------------------------------------------------
\frame{\frametitle{Parallel Algorithm for Calculating Edge Lengths}
	\vspace*{-8mm}
	\begin{columns}
		\begin{column}[t]{.35\textwidth}
			\begin{block}{}
				{\fontsize{4.2}{4.2}\selectfont
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}

						\Input{the number of available processors $\rho$, \\
							the set of all points $\bP$, \\
							the set of neighborhoods $\bN$, \\
							the count of all neighbors in all neighborhoods $\hat{n}$}
						\Output{the set of pre-calculated edge lengths $\bE$, \\
							the global minimum edge length $\gelm$}

						\medskip
					\nl	\Func{parallelCalculateEdgeLengths($\rho$, $\bP$,\,$\bN$,\,$\hat{n}$)}{
					\nl		$\sigma \leftarrow \hat{n}\mathbin{/}\rho$\;
					\nl		$\bar{n} \leftarrow \hat{n}\mathbin{/}|\bP|$\;
					\nl		\For{$\Pi \in \{1,\,\ldots,\,\left \lceil\rho/\bar{n}\right\rceil\}$}{
					\nl			\ProgSty{$\sim$calculateLengths($\Pi$, $\sigma$, $\mu$, $\bP$,\,$\bN$)}\;
							}
					\nl		\ProgSty{synchronizeThreads()}\;
						}

						\medskip
					\nl	\Kernel{calculateLengths($\Pi$, $\sigma$, $\bP$,\,$\bN$)}{
					\nl		$\check{\sigma} \leftarrow (\Pi-1)\,\sigma+1$\;
					\nl		$\hat{\sigma} \leftarrow \Pi\,\sigma$\;
					\nl		$\ProcSty{create}(\mu)$\;
					\nl		\For{$\bp_v \in \{\bp_{\check{\sigma}},\ldots,\,\bp_{\hat{\sigma}}\}$}{
					\nl			\For{$\bp_i \in \bN_v$}{
					\nl				\ProgSty{$\sim$safeEdgeLengthCalc($\mu$, $\bE$, $\gelm$, $\bp_v$, $\bp_i$)}\;
								}
							}
						}

						\medskip
					\nl	\Kernel{safeEdgeLengthCalc($\mu$, $\bE$, $\gelm$, $\bp_v$, $\bp_i$)}{
					\nl		$\bE_{\sv{i}} \leftarrow |\bp_i - \bp_v|$\;
					\nl		\If{$\bE_{\sv{i}} < \gelm$}{\label{algPCELhcs}
					\nl			$\ProcSty{lock}(\mu)$\;
					\nl			$\gelm \leftarrow \min\left \{\gelm,\,\bE_{\sv{i}}\right \}$\label{algPCELgelm}\;
					\nl			$\ProcSty{unlock}(\mu)$\;
							}
						}
					\end{algorithm}
				}
			\end{block}
		\end{column}
		\begin{column}[t]{.65\textwidth}
			\only<1>{
				\begin{block}{Part (1 of 4)}
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}
						\Input{the number of available processors $\rho$, \\
							the set of all points $\bP$, \\
							the set of neighborhoods $\bN$, \\
							{\fontsize{9.5}{9.5}\selectfont the count of all neighbors in all neighborhoods $\hat{n}$}}

						\bigskip
						\Output{the set of pre-calculated edge lengths $\bE$, \\
							the global minimum edge length $\gelm$}
					\end{algorithm}
				\end{block}
			}\only<2>{
				\begin{block}{Part (2 of 4)}
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\setcounter{AlgoLine}{0}
					\nl	\Func{parallelCalculateEdgeLengths($\rho$, $\bP$,\,$\bN$,\,$\hat{n}$)}{
					\nl		$\sigma \leftarrow \hat{n}\mathbin{/}\rho$\;
					\nl		$\bar{n} \leftarrow \hat{n}\mathbin{/}|\bP|$\;
					\nl		\For{$\Pi \in \{1,\,\ldots,\,\left \lceil\rho/\bar{n}\right\rceil\}$}{
					\nl			\ProgSty{$\sim$calculateLengths($\Pi$, $\sigma$, $\mu$, $\bP$,\,$\bN$)}\;
							}
					\nl		\ProgSty{synchronizeThreads()}\;
						}
					\end{algorithm}
				\end{block}
			}\only<3>{
				\begin{block}{Part (3 of 4)}
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\setcounter{AlgoLine}{6}
					\nl	\Kernel{calculateLengths($\Pi$, $\sigma$, $\bP$,\,$\bN$)}{
					\nl		$\check{\sigma} \leftarrow (\Pi-1)\,\sigma+1$\;
					\nl		$\hat{\sigma} \leftarrow \Pi\,\sigma$\;
					\nl		$\ProcSty{create}(\mu)$\;
					\nl		\For{$\bp_v \in \{\bp_{\check{\sigma}},\ldots,\,\bp_{\hat{\sigma}}\}$}{
					\nl			\For{$\bp_i \in \bN_v$}{
					\nl				\ProgSty{$\sim$safeEdgeLengthCalc($\mu$, $\bE$, $\gelm$, $\bp_v$, $\bp_i$)}\;
								}
							}
						}
					\end{algorithm}
				\end{block}
			}\only<4>{
				\begin{block}{Part (4 of 4)}
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\setcounter{AlgoLine}{12}
					\nl	\Kernel{safeEdgeLengthCalc($\mu$, $\bE$, $\gelm$, $\bp_v$, $\bp_i$)}{
					\nl		$\bE_{\sv{i}} \leftarrow |\bp_i - \bp_v|$\;
					\nl		\If{$\bE_{\sv{i}} < \gelm$}{\label{algPCELhcs}
					\nl			$\ProcSty{lock}(\mu)$\;
					\nl			$\gelm \leftarrow \min\left \{\gelm,\,\bE_{\sv{i}}\right \}$\label{algPCELgelm}\;
					\nl			$\ProcSty{unlock}(\mu)$\;
							}
						}
					\end{algorithm}
				\end{block}
			}
		\end{column}
	\end{columns}
	\begin{tikzpicture}[overlay, remember picture]
		\draw<1>[unirot,ultra thick,rounded corners] (-8mm, 64mm) rectangle (46mm, 52mm);
		\draw<2>[unirot,ultra thick,rounded corners] (-8mm, 52.5mm) rectangle (46mm, 38.5mm);
		\draw<3>[unirot,ultra thick,rounded corners] (-8mm, 38mm) rectangle (46mm, 20mm);
		\draw<4>[unirot,ultra thick,rounded corners] (-8mm, 20mm) rectangle (46mm, 02mm);
	\end{tikzpicture}
}

%------------------------------------------------
%TODO: format
\frame{\frametitle{Parallel Algorithm for Convolving the Filter}
	\vspace*{-8mm}
	\begin{columns}
		\begin{column}[t]{.35\textwidth}
			\begin{block}{}
				{\scalebox{.66}{\fontsize{4.0}{4.0}\selectfont
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetCommentSty{small}
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}

						\Input{the number of available processors $\rho$, \\
							the set of all points $\bP$, \\
							the set of neighborhoods $\bN$, \\
							the count of all neighbors in all neighborhoods $\hat{n}$, \\
							the set of pre-calculated edge lengths $\bE$, \\
							the global minimum edge length $\gelm$, \\
							the set of function values $\bF$, \\
							the user-defined number of convolutions $\tau$}
						\Output{the set of one-ring \wmfv{s} $\bF'$}

						\smallskip
						\linespread{1}\selectfont
					\nl	\Func{parallelConvolveFilter($\rho$, $\bP$, $\bN$, $\hat{n}$, $\bE$, $\gelm$, $\bF$, $\tau$)}{
					\nl		\For{$t\leftarrow 1\;\KwTo\;\tau$}{
					\nl			$\sigma \leftarrow (|\bP|+\hat{n})\mathbin{/}\rho$\;
					\nl			$\bar{n} \leftarrow \tilde{n}\mathbin{/}|\bP|$\;
					\nl			\For{$\Pi \in \{1,\ldots,\left \lceil\rho/\bar{n}\right\rceil\}$}{
					\nl				\ProgSty{$\sim$safeAccumulateGeoDiscMean($\Pi$, $\sigma$, $\bP$, $\bN$, $\bE$, $\gelm$, $\bF$, $\bF'$)}\;
								}
					\nl			\ProgSty{synchronizeThreads()}\;
					\nl 		\If{$t < \tau$}{$\bF \leftarrow \bF'$}
							}
					\nl 	\KwRet $\bF'$\;
						}

						\smallskip
					\nl	\Kernel{safeAccumulateGeoDiscMean($\Pi$, $\sigma$, $\bP$, $\bN$, $\bE$, $\gelm$, $\bF$, $\bF'$)}{
					\nl		$\check{\sigma} \leftarrow (\Pi-1)\,\sigma+1$\;
					\nl		$\hat{\sigma} \leftarrow \Pi\,\sigma$\;
					\nl		\For{$\bp_v \in \{\bp_{\check{\sigma}},\ldots,\,\bp_{\hat{\sigma}}\}$}{
					\nl			$\fM \leftarrow \left \{\mu_1,\dots,\mu_{|\bN_v|}\right \}$\;
					\nl			\For{$\bp_i \in \bN_v$}{
									\smallskip
					\nl				\ProgSty{$\sim$safeAccumulateSectorMean($\fM$, $\bE$, $\gelm$, $\bp_v$, $\bp_i$, $\bF$, $\tilde{f}_v$, $\tilde{A}_v$)}\;
								}
					\nl			\ProgSty{synchronizeThreads(\{$\check{\sigma}$, \ldots, $\hat{\sigma}$\})}\;
					\nl			$\bF'_v \leftarrow \tilde{f}_v\mathbin{/}\tilde{A}_v$\;
							}
						}

						\smallskip
					\nl	\Kernel{safeAccumulateSectorMean($\fM$, $\bE$, $\gelm$, $\bp_v$, $\bp_i$, $\bF$, $\tilde{f}_v$, $\tilde{A}_v$)}{
					\nl		$\kern-0.5pt\alpha \leftarrow cos^{-1}\kern-6pt\left (\frac{\bE_c^2\,+\,\bE_b^2\,-\,\bE_a^2}{2\,\cdot\,\bE_c\,\cdot\,\bE_b}\right )$\;
					\nl		$\kern0.00pt\beta \leftarrow (\pi - \alpha)\mathbin{/}2$\;
					\nl		$\kern-1.5ptA \leftarrow \Big(\gelm\,\Big)^2\kern-4pt\cdot\alpha\mathbin{/}2$\;
					\nl		$\kern1.00pt\check{\ell} \leftarrow \big(4\cdot\gelm\cdot\sin(\alpha\mathbin{/}2)\big)\mathbin{/}3\,\alpha$\;
					\nl		$\kern1.00pt\zeta \leftarrow \gelm\mathbin{/}\sin(\beta)$\;
					\nl		\For{$j \in {1,2}$}{
					\nl			$\tilde{\ell}_j \leftarrow \zeta\mathbin{/}\bE_j$\;
					\nl			$f'_j \leftarrow f_0\cdot(1 - \tilde{\ell}_j) + f_j\cdot\tilde{\ell}_j$\;
							}
					\nl		$\check{f} \leftarrow f_0\cdot(1 - \check{\ell}) + \big((f'_1 + f'_2)\cdot\check{\ell}\big)\mathbin{/}2$\;
							\linespread{1.0}\selectfont
					\nl		$\ProcSty{lock}(\mu)$\;
					\nl		$\kern2.0pt\tilde{f}_v \leftarrow \tilde{f}_v + A\cdot\check{f}$\;
					\nl		$\kern0.0pt\tilde{A}_v \leftarrow \tilde{A}_v + A$\;
					\nl		$\ProcSty{lock}(\mu)$\;
						}
					\end{algorithm}
				}}
			\end{block}
		\end{column}
		\begin{column}[t]{.65\textwidth}
			\only<1>{
				\begin{block}{Part (1 of 4)}
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetKwInOut{Input}{Input}\SetKwInOut{Output}{Output}
						\Input{the number of available processors $\rho$, \\
							the set of all points $\bP$, \\
							the set of neighborhoods $\bN$, \\
							{\fontsize{9.5}{9.5}\selectfont the count of all neighbors in all neighborhoods $\hat{n}$}, \\
							the set of pre-calculated edge lengths $\bE$, \\
							the global minimum edge length $\gelm$, \\
							the set of function values $\bF$, \\
							the user-defined number of convolutions $\tau$}

						\bigskip
						\Output{the set of one-ring \wmfv{s} $\bF'$}
					\end{algorithm}
				\end{block}
			}
			\only<2>{
				\begin{block}{Part (2 of 4)}
					{\fontsize{10}{12}\selectfont
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Func}{Function}{}{}
						\setcounter{AlgoLine}{0}

					\nl	\Func{parallelConvolveFilter($\rho$, $\bP$, $\bN$, $\hat{n}$, $\bE$, $\gelm$, $\bF$, $\tau$)}{
					\nl		\For{$t\leftarrow 1\;\KwTo\;\tau$}{
					\nl			$\sigma \leftarrow (|\bP|+\hat{n})\mathbin{/}\rho$\;
					\nl			$\bar{n} \leftarrow \tilde{n}\mathbin{/}|\bP|$\;
					\nl			\For{$\Pi \in \{1,\ldots,\left \lceil\rho/\bar{n}\right\rceil\}$}{
					\nl				\ProgSty{$\sim$safeAccumulateGeoDiscMean($\Pi$, $\sigma$, $\bP$, $\bN$, $\bE$, $\gelm$, $\bF$, $\bF'$)}\;
								}
					\nl			\ProgSty{synchronizeThreads()}\;
					\nl 		\If{$t < \tau$}{$\bF \leftarrow \bF'$}
							}
					\nl 	\KwRet $\bF'$\;
						}
					\end{algorithm}
					}
				\end{block}
			}\only<3>{
				\begin{block}{Part (3 of 4)}
					{\fontsize{10}{12}\selectfont
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\setcounter{AlgoLine}{9}

					\nl	\Kernel{safeAccumulateGeoDiscMean($\Pi$, $\sigma$, $\bP$, $\bN$, $\bE$, $\gelm$, $\bF$, $\bF'$)}{
					\nl		$\check{\sigma} \leftarrow (\Pi-1)\,\sigma+1$\;
					\nl		$\hat{\sigma} \leftarrow \Pi\,\sigma$\;
					\nl		\For{$\bp_v \in \{\bp_{\check{\sigma}},\ldots,\,\bp_{\hat{\sigma}}\}$}{
					\nl			$\fM \leftarrow \left \{\mu_1,\dots,\mu_{|\bN_v|}\right \}$\;
					\nl			\For{$\bp_i \in \bN_v$}{
									\smallskip
					\nl				\ProgSty{$\sim$safeAccumulateSectorMean($\fM$, $\bE$, $\gelm$, $\bp_v$, $\bp_i$, $\bF$, $\tilde{f}_v$, $\tilde{A}_v$)}\;
								}
					\nl			\ProgSty{synchronizeThreads(\{$\check{\sigma}$, \ldots, $\hat{\sigma}$\})}\;
					\nl			$\bF'_v \leftarrow \tilde{f}_v\mathbin{/}\tilde{A}_v$\;
							}
						}
					\end{algorithm}
					}
				\end{block}
			}\only<4,5>{
				\begin{block}{Part (4 of 4)}
					{\fontsize{7.75}{9}\selectfont
					\begin{algorithm}[H]
						\DontPrintSemicolon
						\SetKwFor{For}{for}{:}{}
						\SetKwProg{Kernel}{Kernel}{}{}
						\setcounter{AlgoLine}{17}
					\nl	\Kernel{safeAccumulateSectorMean($\fM$, $\bE$, $\gelm$, $\bp_v$, $\bp_i$, $\bF$, $\tilde{f}_v$, $\tilde{A}_v$)}{
					\nl		$\kern-0.5pt\alpha \leftarrow cos^{-1}\kern-6pt\left (\frac{\bE_c^2\,+\,\bE_b^2\,-\,\bE_a^2}{2\,\cdot\,\bE_c\,\cdot\,\bE_b}\right )$\;
					\nl		$\kern0.00pt\beta \leftarrow (\pi - \alpha)\mathbin{/}2$\;
					\nl		$\kern-1.5ptA \leftarrow \Big(\gelm\,\Big)^2\kern-4pt\cdot\alpha\mathbin{/}2$\;
					\nl		$\kern1.00pt\check{\ell} \leftarrow \big(4\cdot\gelm\cdot\sin(\alpha\mathbin{/}2)\big)\mathbin{/}3\,\alpha$\;
					\nl		$\kern1.00pt\zeta \leftarrow \gelm\mathbin{/}\sin(\beta)$\;
					\nl		\For{$j \in {1,2}$}{
					\nl			$\tilde{\ell}_j \leftarrow \zeta\mathbin{/}\bE_j$\;
					\nl			$f'_j \leftarrow f_0\cdot(1 - \tilde{\ell}_j) + f_j\cdot\tilde{\ell}_j$\;
							}
					\nl		$\check{f} \leftarrow f_0\cdot(1 - \check{\ell}) + \big((f'_1 + f'_2)\cdot\check{\ell}\big)\mathbin{/}2$\;
							\linespread{1.0}\selectfont
					\nl		$\ProcSty{lock}(\mu)$\;
					\nl		$\kern2.0pt\tilde{f}_v \leftarrow \tilde{f}_v + A\cdot\check{f}$\;
					\nl		$\kern0.0pt\tilde{A}_v \leftarrow \tilde{A}_v + A$\;
					\nl		$\ProcSty{lock}(\mu)$\;
						}
					\end{algorithm}
					}
				\end{block}
			}
		\end{column}
	\end{columns}
	\begin{tikzpicture}[overlay, remember picture]
		\draw<1>[unirot,ultra thick,rounded corners] (-8mm, 67.5mm) rectangle (46mm, 56.5mm);
		\draw<2>[unirot,ultra thick,rounded corners] (-8mm, 57mm) rectangle (46mm, 40.5mm);
		\draw<3>[unirot,ultra thick,rounded corners] (-8mm, 41mm) rectangle (46mm, 24mm);
		\draw<4>[unirot,ultra thick,rounded corners] (-8mm, 24.5mm) rectangle (46mm, 2mm);
		\draw<5>[unirot,ultra thick,rounded corners] (47mm, 19mm) rectangle (100mm, 2mm);
	\end{tikzpicture}
}




%================================================
%================================================
\section{Experiments \& Evaluation}


%================================================
%TODO: Widen space between images
\subsection{Filter Response On Synthetic Data}

%------------------------------------------------
\frame{\frametitle{Bisected-Square Tessellations}
	\vspace*{-2mm}
	\begin{columns}
		\begin{column}{0.17\textwidth}~\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_2tri_Dirac_delta_1_v9_f8_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_2tri_Dirac_delta_1_v9_f8_funcvals_0iter_crop.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_2tri_Dirac_delta_1_v9_f8_funcvals_1iter_crop.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} $1$~iteration
			}
		\end{column}
		\begin{column}{0.17\textwidth}~\end{column}
	\end{columns}
	\vspace*{4mm}
	\begin{columns}
		\begin{column}{0.17\textwidth}~\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_2tri_Dirac_delta_10_v441_f800_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_2tri_Dirac_delta_10_v441_f800_funcvals_0iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_2tri_Dirac_delta_10_v441_f800_funcvals_100iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} $100$~iterations
			}
		\end{column}
		\begin{column}{0.17\textwidth}~\end{column}
	\end{columns}
}

%------------------------------------------------
\frame{\frametitle{Quadrisected-Square Tessellations}
	\vspace*{-2mm}
	\begin{columns}
		\begin{column}{0.17\textwidth}~\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_4tri_Dirac_delta_1_v13_f16_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_4tri_Dirac_delta_1_v13_f16_funcvals_0iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_4tri_Dirac_delta_1_v13_f16_funcvals_1iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} $1$~iteration
			}
		\end{column}
		\begin{column}{0.17\textwidth}~\end{column}
	\end{columns}
	\vspace*{4mm}
	\begin{columns}
		\begin{column}{0.17\textwidth}~\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_4tri_Dirac_delta_10_v841_f1600_wireframe_2.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_4tri_Dirac_delta_10_v841_f1600_funcvals_0iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/square_tesselation_4tri_Dirac_delta_10_v841_f1600_funcvals_100iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} $100$~iterations
			}
		\end{column}
		\begin{column}{0.17\textwidth}~\end{column}
	\end{columns}
}

%------------------------------------------------
\frame{\frametitle{Hexagonal Tessellations}
	\vspace*{-2mm}
	\begin{columns}
		\begin{column}{0.17\textwidth}~\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/hexagonal_tessellation_Dirac_delta_1_v31_f42_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/hexagonal_tessellation_Dirac_delta_1_v31_f42_funcvals_0iter_crop.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/hexagonal_tessellation_Dirac_delta_1_v31_f42_funcvals_2iter_crop.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, 
				\par \vspace{-1mm} $2$~iterations
			}
		\end{column}
		\begin{column}{0.17\textwidth}~\end{column}
	\end{columns}
	\vspace*{4mm}
	\begin{columns}
		\begin{column}{0.17\textwidth}~\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/hexagonal_tessellation_Dirac_delta_10_v1057_f1986_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/hexagonal_tessellation_Dirac_delta_10_v1057_f1986_funcvals_0iter_crop.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/hexagonal_tessellation_Dirac_delta_10_v1057_f1986_funcvals_200iter_crop.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, 
				\par \vspace{-1mm} $200$~iterations
			}
		\end{column}
		\begin{column}{0.17\textwidth}~\end{column}
	\end{columns}
}

%------------------------------------------------
\frame{\frametitle{Random Triangulated Discs}
	\vspace*{-2mm}
	\begin{columns}
		\begin{column}{0.17\textwidth}~\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/random_circle_tessellation_Dirac_delta_1_v11_f12_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, $p=11$,
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/random_circle_tessellation_Dirac_delta_1_v11_f12_funcvals_0iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, $p=11$,
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/random_circle_tessellation_Dirac_delta_1_v11_f12_funcvals_2iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=1$, $p=11$,
				\par \vspace{-1mm} $2$~iterations
			}
		\end{column}
		\begin{column}{0.17\textwidth}~\end{column}
	\end{columns}
	\vspace*{4mm}
	\begin{columns}
		\begin{column}{0.17\textwidth}~\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/random_circle_tessellation_Dirac_delta_10_v641_f1252_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, $p=641$,
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/random_circle_tessellation_Dirac_delta_10_v641_f1252_funcvals_0iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, $p=641$,
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.22\textwidth}
			\centering
			\includegraphics[width=.85\textwidth]{data/synthetic_meshes/random_circle_tessellation_Dirac_delta_10_v641_f1252_funcvals_10000iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $r=10$, $p=641$,
				\par \vspace{-1mm} $10^4$~iterations
			}
		\end{column}
		\begin{column}{0.17\textwidth}~\end{column}
	\end{columns}
}


%================================================
\subsection{Filter Response On Acquired Data}

%------------------------------------------------
%TODO:callout errors
\frame{\frametitle{The University of Heidelberg Seal}
	%\vspace*{2mm}
	%\begin{flushright}error propagation\par\end{flushright}
	%\vspace*{4mm}
	\vspace*{16mm}
	\begin{columns}
		\begin{column}{0.33\textwidth}
			\centering
			\includegraphics[width=\textwidth]{data/acquired_meshes/unisiegel_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.33\textwidth}
			\centering
			\includegraphics[width=\textwidth]{data/acquired_meshes/unisiegel_0iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.33\textwidth}
			\centering
			\includegraphics[width=\textwidth]{data/acquired_meshes/unisiegel_100iter.png}
			{\footnotesize
				\par \vspace{-1mm} $100$~iterations
			}
		\end{column}
	\end{columns}
	%\begin{tikzpicture}[overlay, remember picture]
	%	\draw[gray,ultra thick] (36mm, 70mm) -- (60mm, 71mm);
	%\end{tikzpicture}
}

%------------------------------------------------
\frame{\frametitle{A flat surface from ILATO}
	\vspace*{-2mm}
	\begin{columns}
		\begin{column}{0.5\textwidth}
			\centering
			\includegraphics[width=.75\textwidth]{data/acquired_meshes/ILATO_1A_SM2066-HE5-60_070214_merged_GMO_r1_n4_v256_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.5\textwidth}
			\centering
			\includegraphics[width=.75\textwidth]{data/acquired_meshes/ILATO_1A_SM2066-HE5-60_070214_merged_GMO_r1_n4_v256_funcvals_0iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
	\end{columns}
	\vspace*{4mm}
	\begin{columns}
		\begin{column}{0.5\textwidth}
			\centering
			\includegraphics[width=.75\textwidth]{data/acquired_meshes/ILATO_1A_SM2066-HE5-60_070214_merged_GMO_r1_n4_v256_funcvals_1000iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $1000$~iterations
			}
		\end{column}
		\begin{column}{0.5\textwidth}
			\centering
			\includegraphics[width=.75\textwidth]{data/acquired_meshes/ILATO_1A_SM2066-HE5-60_070214_merged_GMO_r1_n4_v256_funcvals_3000iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $3000$~iterations
			}
		\end{column}
	\end{columns}
}

%------------------------------------------------
\frame{\frametitle{The Stanford Bunny}
	\vspace*{8mm}
	\begin{columns}
		\begin{column}{0.33\textwidth}
			\centering
			\includegraphics[width=\textwidth]{data/acquired_meshes/bun_zipper_edited_r1_n4_v256_wireframe.png}
			{\footnotesize 
				\par \vspace{-1mm} wireframe
			}
		\end{column}
		\begin{column}{0.33\textwidth}
			\centering
			\includegraphics[width=\textwidth]{data/acquired_meshes/bun_zipper_edited_r1_n4_v256_funcvals_0iter.png}
			{\footnotesize 
				\par \vspace{-1mm} $0$~iterations
			}
		\end{column}
		\begin{column}{0.33\textwidth}
			\centering
			\includegraphics[width=\textwidth]{data/acquired_meshes/bun_zipper_edited_r1_n4_v256_funcvals_100iter.png}
			{\footnotesize
				\par \vspace{-1mm} $100$~iterations
			}
		\end{column}
	\end{columns}
}




%================================================
\subsection{Convolving with a \gls{GPGPU}}

%------------------------------------------------
\frame{\frametitle{Compute Times per Experiment for increasing Iteration Counts}
	\vspace*{-2mm}
	{\centering
	\includegraphics[width=1.0\textwidth]{figures/computeTimesLinespoints_presentation.png}}
	\only<2>{
		\par \vspace*{-20mm}
		\begin{flushright}\emph{\LARGE Predictable!}\end{flushright}
	}
	\begin{tikzpicture}[overlay, remember picture]
		\draw<2>[black,ultra thick,rounded corners] (52mm, 68mm) rectangle (109mm, 3.5mm);
	\end{tikzpicture}
}

%------------------------------------------------
\frame{\frametitle{Compute Times Scatter Plot}
	\vspace*{-3mm}
	\centering
	\includegraphics[width=.72\textwidth]{figures/computeTimesScatter_presentation.png}
}

%------------------------------------------------

\frame{\frametitle{Speedup:~~~$\mathit{S}(\hat{n},\,\rho) = \mathit{T_s}(\hat{n}) \mathbin{/} \mathit{T_{\rho}}(\hat{n},\,\rho)$}
	\vspace*{-3mm}
	\centering
	\includegraphics[width=.9\textwidth]{figures/speedup.png}
}

%------------------------------------------------
\frame{\frametitle{Efficiency~~~$\mathit{E}(\hat{n},\,\rho) = \mathit{S}(\hat{n},\,\rho) \mathbin{/} \rho$}
	\vspace*{-3mm}
	\centering
	\includegraphics[width=.9\textwidth]{figures/efficiency.png}
}


%================================================
%================================================
\section[Outlook]{Outlook}

%------------------------------------------------
\frame{\frametitle{Outlook}
	\begin{columns}
		\begin{column}{.6\textwidth}
			\only<1->{
				\color{unirot}{Fast One-Ring Smoothing Filter:}
				\begin{itemize}
					\item Using inner angles vs area for weights
					\item User-defined parameter instead of ${\color{MyTeal}\gelm}$%min edge length, discoverd by typo in original code
					\item Eliminate square root function %no averaging, interpolation
					\item Other smoothing methods, i.e. median
				\end{itemize}
			}\only<2->{
				\vspace*{4mm}
				\color{unirot}{Parallelization:}
				\begin{itemize}
					\item Explicitly support feature vectors
					\item Use OpenCL to support other GPGPUs
				\end{itemize}
			}
		\end{column}
		\begin{column}{.2\textwidth}
			\only<3>{
				\par \vspace*{12mm}
				{\fontfamily{pzc}\selectfont 
					\Huge
					Thank \par 
					\begin{flushright}You!\end{flushright}
				}
			}
		\end{column}
	\end{columns}
}
\end{document}
